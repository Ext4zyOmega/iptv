<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Séries - IPTV Français</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="images/film_icon.ico" type="image/x-icon">
    <script type='text/javascript' src='https://fsvid.lol/player/jw8/jwplayer.js'></script>
    <script type="text/javascript">jwplayer.key="rqQQ9nLfWs+4Fl37jqVWGp6N8e2Z0WldRIKhFg==";</script>
    <style>
        .jw-controlbar .jw-button-image {
            background: no-repeat 50% 50%;
            background-size: contain;
            max-height: 16px;
        }

        .jwplayer .jw-buffer {
            background-color: #f5c9a1;
        }

        .jw-slider-horizontal.jw-chapter-slider-time .jw-slider-container .jw-timesegment-progress {
            width: 0%;
            background-color: #f48625;
        }

        .jw-button-color {
            color: #f48625;
        }
    </style>
</head>
<body>
    <h1>Séries</h1>

    <!-- Liste des séries -->
    <div id="seriesList" class="series-grid">
        <div class="series-preview" onclick="showEpisodes('goodDoctorS1')">
            <img src="images/good-doctor.jpg" alt="Good Doctor" class="series-poster">
            <h3>Good Doctor</h3>
            <p>Saison 1</p>
        </div>
        <div class="series-preview" onclick="showEpisodes('goodDoctorS2')">
            <img src="images/good-doctor.jpg" alt="Good Doctor" class="series-poster">
            <h3>Good Doctor</h3>
            <p>Saison 2</p>
        </div>
    </div>

    <!-- Page des épisodes (initialement cachée) -->
    <div id="episodesPage" class="episodes-page" style="display: none;">
        <div class="series-info-container">
            <img src="images/good-doctor.jpg" alt="Good Doctor" class="series-thumbnail">
            <div class="series-details">
                <h2>Good Doctor</h2>
                <h3 id="seasonTitle">Saison 1</h3>
                <div class="episodes-list" id="episodesList"></div>
            </div>
        </div>

        <div class="video-container">
            <div id="videoPlayer" style="width:100%;height:600px;background:#000;border-radius:12px;overflow:hidden;">
                <div class="play-button"></div>
            </div>
        </div>

        <button onclick="backToSeries()" class="back-button">Retour aux séries</button>
    </div>

    <a href="catalog.html" class="back-button">Retour au catalogue</a>

    <style>
    .notification {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: #00bcd4;
        color: white;
        padding: 15px 30px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        z-index: 1000;
        display: none;
        text-align: center;
        font-size: 16px;
    }
    </style>

    <div id="notification" class="notification"></div>

    <script>
        const seriesData = {
            goodDoctorS1: {
                title: "Saison 1",
                episodes: [
                    "https://fsvid.lol/embed-06yrsxdy198x.html, https://fsvid.lol/embed-goiy6hugh1tf.html, https://fsvid.lol/embed-w5d2vzfqf1qm.html, https://fsvid.lol/embed-33ofk0fo338t.html, https://fsvid.lol/embed-p0pd3dv6oob7.html, https://fsvid.lol/embed-oi76je3gy31h.html, https://fsvid.lol/embed-bfbj3835oo0u.html, https://fsvid.lol/embed-ep6vxpsagc8x.html, https://fsvid.lol/embed-rfspstk02yud.html, https://fsvid.lol/embed-vd6bmc1erirs.html, https://fsvid.lol/embed-352r062erd38.html, https://fsvid.lol/embed-spr4ldhrt4r9.html, https://fsvid.lol/embed-xphfn4nout9o.html, https://fsvid.lol/embed-jz3r9hh5u4cy.html, https://fsvid.lol/embed-btjwboxtc72y.html, https://fsvid.lol/embed-yvsgtmk45nd7.html, https://fsvid.lol/embed-esiizmcap402.html, https://fsvid.lol/embed-he1yu803elp9.html"
                ]
            },
            goodDoctorS2: {
                title: "Saison 2",
                episodes: [
                    "https://fsvid.lol/embed-w4b34p3ajhs6.html, https://fsvid.lol/embed-mug67nrk5uq8.html, https://fsvid.lol/embed-7qrmo8e1q9td.html, https://fsvid.lol/embed-f5rsavriull3.html, https://fsvid.lol/embed-xjvcbcxh9tcm.html, https://fsvid.lol/embed-22rh1us04nly.html, https://fsvid.lol/embed-ndkvte2ah9zs.html, https://fsvid.lol/embed-i5k2cmbq92qv.html, https://fsvid.lol/embed-cwree7hhf9uv.html, https://fsvid.lol/embed-ikooklf8nowf.html, https://fsvid.lol/embed-pmaz9kyoeq23.html, https://fsvid.lol/embed-zx8lk32dyz17.html, https://fsvid.lol/embed-mbc6ge7dd9gg.html, https://fsvid.lol/embed-cpoiykaanw45.html, https://fsvid.lol/embed-slvdwu4bj0mb.html, https://fsvid.lol/embed-2o0xz7u7er95.html, https://fsvid.lol/embed-1od3ki2om1gu.html, https://fsvid.lol/embed-j55sucxcius6.html"
                ]
            }
        };

        function showEpisodes(seriesId) {
            document.getElementById('seriesList').style.display = 'none';
            document.getElementById('episodesPage').style.display = 'block';
            document.getElementById('seasonTitle').textContent = seriesData[seriesId].title;
            
            const episodesList = document.getElementById('episodesList');
            episodesList.innerHTML = '';
            
            const episodes = seriesData[seriesId].episodes[0].split(", ");
            episodes.forEach((url, index) => {
                const button = document.createElement('button');
                button.className = 'episode-button';
                button.textContent = `Episode ${index + 1}`;
                button.onclick = () => playEpisode(url);
                episodesList.appendChild(button);
            });
        }

        function playEpisode(url) {
            // Charger JWPlayer si ce n'est pas déjà fait
            if (!window.jwplayer) {
                const jwScript = document.createElement('script');
                jwScript.src = 'https://fsvid.lol/player/jw8/jwplayer.js';
                document.head.appendChild(jwScript);
                
                jwScript.onload = () => {
                    // Définir la clé JWPlayer
                    window.jwplayer.key = "rqQQ9nLfWs+4Fl37jqVWGp6N8e2Z0WldRIKhFg==";
                    setupPlayer(url);
                };
            } else {
                setupPlayer(url);
            }
        }

        function setupPlayer(url) {
            const videoPlayer = document.getElementById('videoPlayer');
            videoPlayer.innerHTML = '<div id="jwplayer-container"></div>';

            jwplayer("jwplayer-container").setup({
                sources: [{
                    file: url
                }],
                width: "100%",
                height: "100%",
                stretching: "uniform",
                preload: 'auto',
                androidhls: "true",
                captions: {
                    userFontScale: 1,
                    color: '#FFFFFF',
                    backgroundColor: 'transparent',
                    fontFamily: "Arial",
                    backgroundOpacity: 50,
                    fontOpacity: '100'
                },
                playbackRateControls: true,
                playbackRates: [0.5, 1, 1.25, 1.5, 2, 3, 4]
            });

            // Ajouter les boutons personnalisés
            const player = jwplayer();
            
            // Bouton avance rapide
            player.addButton(
                '<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-rewind2" viewBox="0 0 240 240" focusable="false"><path d="m 25.993957,57.778 v 125.3 c 0.03604,2.63589 2.164107,4.76396 4.8,4.8 h 62.7 v -19.3 h -48.2 v -96.4 H 160.99396 v 19.3 c 0,5.3 3.6,7.2 8,4.3 l 41.8,-27.9 c 2.93574,-1.480087 4.13843,-5.04363 2.7,-8 -0.57502,-1.174985 -1.52502,-2.124979 -2.7,-2.7 l -41.8,-27.9 c -4.4,-2.9 -8,-1 -8,4.3 v 19.3 H 30.893957 c -2.689569,0.03972 -4.860275,2.210431 -4.9,4.9 z"></path></svg>',
                "Avancer 10 sec",
                function() {
                    player.seek(player.getPosition() + 10);
                },
                "ff10"
            );

            // Bouton retour rapide
            player.addButton(
                '<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-rewind" viewBox="0 0 240 240" focusable="false"><path d="M113.2,131.078a21.589,21.589,0,0,0-17.7-10.6,21.589,21.589,0,0,0-17.7,10.6,44.769,44.769,0,0,0,0,46.3,21.589,21.589,0,0,0,17.7,10.6,21.589,21.589,0,0,0,17.7-10.6,44.769,44.769,0,0,0,0-46.3Z"></path></svg>',
                "Reculer 10 sec",
                function() {
                    const newPosition = Math.max(0, player.getPosition() - 10);
                    player.seek(newPosition);
                },
                "rw10"
            );
        }

        function backToSeries() {
            document.getElementById('seriesList').style.display = 'grid';
            document.getElementById('episodesPage').style.display = 'none';
            document.getElementById('videoPlayer').src = ''; // Vider le lecteur
        }
    </script>
</body>
</html> 